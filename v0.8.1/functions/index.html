<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Functions · LinearMPC.jl</title><meta name="title" content="Functions · LinearMPC.jl"/><meta property="og:title" content="Functions · LinearMPC.jl"/><meta property="twitter:title" content="Functions · LinearMPC.jl"/><meta name="description" content="Documentation for LinearMPC.jl."/><meta property="og:description" content="Documentation for LinearMPC.jl."/><meta property="twitter:description" content="Documentation for LinearMPC.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">LinearMPC.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><input class="collapse-toggle" id="menuitem-2-1" type="checkbox"/><label class="tocitem" for="menuitem-2-1"><span class="docs-label">Getting started</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../manual/simple/">Simple example</a></li><li><a class="tocitem" href="../manual/model/">Models</a></li><li><a class="tocitem" href="../manual/objective/">Objective function</a></li><li><a class="tocitem" href="../manual/constraints/">Constraints</a></li><li><a class="tocitem" href="../manual/observer/">State observer</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-2" type="checkbox"/><label class="tocitem" for="menuitem-2-2"><span class="docs-label">Beyond the basics</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../manual/prestab/">Prestabilization</a></li><li><a class="tocitem" href="../manual/moveblock/">Move blocking </a></li><li><a class="tocitem" href="../manual/reference_preview/">Reference Preview</a></li><li><a class="tocitem" href="../manual/explicit/">Explict MPC</a></li><li><a class="tocitem" href="../manual/hybrid/">Hybrid MPC</a></li><li><a class="tocitem" href="../manual/robust/">Robust MPC</a></li><li><a class="tocitem" href="../manual/game/">Game-Theoretic MPC</a></li><li><a class="tocitem" href="../manual/linear_cost/">Linear control cost</a></li><li><a class="tocitem" href="../manual/solver/">Solver Settings</a></li></ul></li></ul></li><li class="is-active"><a class="tocitem" href>Functions</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Functions</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Functions</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/darnstrom/LinearMPC.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/darnstrom/LinearMPC.jl/blob/main/docs/src/functions.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Functions"><a class="docs-heading-anchor" href="#Functions">Functions</a><a id="Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Functions" title="Permalink"></a></h1><article><details class="docstring" open="true"><summary id="LinearMPC.MPCSettings"><a class="docstring-binding" href="#LinearMPC.MPCSettings"><code>LinearMPC.MPCSettings</code></a> — <span class="docstring-category">Type</span></summary><section><div><p>MPC controller settings.</p><p><strong>Fields</strong></p><ul><li><code>reference_condensation::Bool = false</code>: Collapse reference trajectory to setpoint </li><li><code>reference_tracking::Bool = true</code>: Enable reference tracking</li><li><code>reference_preview::Bool = false</code>: Enable time-varying reference preview</li><li><code>soft_weight::Float64 = 1e6</code>: Penalty weight for soft constraint violations</li><li><code>solver_opts::Dict{Symbol,Any}</code>: Additional solver options</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/darnstrom/LinearMPC.jl/blob/9a81963ae6ec46fe6454b287878c61bc17282124/src/types.jl#L40-L49">source</a></section></details></article><article><details class="docstring" open="true"><summary id="LinearMPC.add_constraint!-Tuple{LinearMPC.MPC}"><a class="docstring-binding" href="#LinearMPC.add_constraint!-Tuple{LinearMPC.MPC}"><code>LinearMPC.add_constraint!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">add_constraint!(mpc::MPC;
    Ax, Au, Ar, Aw, Ad, Aup,
    ub, lb, ks, soft, binary, prio)
add_constraint!(mpc;Ax,Au,ub,lb,
                ks, soft, binary,prio)</code></pre><p>Adds the constraints lb ≤ Ax xₖ + Au uₖ ≤ ub for the time steps k ∈ ks (additional terms Ar rₖ, Aw wₖ, Ad dₖ, Aup u⁻ₖ are possible)</p><ul><li><code>soft</code> marks if the constraint should be softened (default false)</li><li><code>binary</code> marks if either the upper or lower bounds should be enforced with equality (default false)</li><li><code>prio</code> marks the relative priority of the constraint (default 0)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/darnstrom/LinearMPC.jl/blob/9a81963ae6ec46fe6454b287878c61bc17282124/src/setup.jl#L56-L69">source</a></section></details></article><article><details class="docstring" open="true"><summary id="LinearMPC.certify-Tuple{LinearMPC.MPC}"><a class="docstring-binding" href="#LinearMPC.certify-Tuple{LinearMPC.MPC}"><code>LinearMPC.certify</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">certify(mpc; range, AS0, opts)</code></pre><p>Provide certificates on the iteration complexity of DAQP for solving the resulting optimization problems. </p><ul><li><code>range</code> is the parameter range over which the certification should be done</li><li><code>AS0</code> is the starting working set in DAQP (defaults to empty)</li><li><code>settings</code> the settings used in the certification (see ASCertain.CertSettings()) </li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/darnstrom/LinearMPC.jl/blob/9a81963ae6ec46fe6454b287878c61bc17282124/src/certify.jl#L10-L17">source</a></section></details></article><article><details class="docstring" open="true"><summary id="LinearMPC.compute_control-Tuple{LinearMPC.MPC, Any}"><a class="docstring-binding" href="#LinearMPC.compute_control-Tuple{LinearMPC.MPC, Any}"><code>LinearMPC.compute_control</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">compute_control(mpc,x;r,d,uprev,l)</code></pre><p>For a given MPC <code>mpc</code> and state <code>x</code>, compute the optimal control action.</p><p>Optional arguments:</p><ul><li><code>r</code> - reference value. Can be:<ul><li>Vector of length <code>ny</code> for constant reference</li><li>Matrix of size <code>(ny, Np)</code> for reference preview (when <code>mpc.settings.reference_preview = true</code>)</li></ul></li><li><code>d</code> - measured disturbance</li><li><code>uprev</code> - previous control action</li><li><code>l</code> - linear cost on control (requires <code>mpc.settings.linear_cost = true</code>). Can be:<ul><li>Vector of length <code>nu</code> for constant linear cost across horizon</li><li>Matrix of size <code>(nu, Np)</code> for time-varying linear cost (mean computed per move block)</li><li>Matrix of size <code>(nu, Nc)</code> for pre-blocked linear cost</li><li>Nothing (default) for no linear cost</li></ul></li></ul><p>All arguments default to zero.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Standard reference tracking
u = compute_control(mpc, x; r=[1.0, 0.0])

# Reference preview (requires mpc.settings.reference_preview = true)
r_trajectory = [1.0 1.5 2.0 2.0 2.0;   # ny × Np matrix
                0.0 0.0 0.5 1.0 1.0]
u = compute_control(mpc, x; r=r_trajectory)

# With linear cost (requires mpc.settings.linear_cost = true)
u = compute_control(mpc, x; l=[1.0])  # Constant cost

# Time-varying linear cost
l_trajectory = [1.0 0.5 0.0 -0.5 -1.0]  # nu × Np matrix
u = compute_control(mpc, x; l=l_trajectory)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/darnstrom/LinearMPC.jl/blob/9a81963ae6ec46fe6454b287878c61bc17282124/src/utils.jl#L1-L37">source</a></section></details></article><article><details class="docstring" open="true"><summary id="LinearMPC.condense_reference-Tuple{Union{ExplicitMPC, LinearMPC.MPC}, Any}"><a class="docstring-binding" href="#LinearMPC.condense_reference-Tuple{Union{ExplicitMPC, LinearMPC.MPC}, Any}"><code>LinearMPC.condense_reference</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">condense_reference(mpc, r)</code></pre><p>Condense reference trajectory to single setpoint.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/darnstrom/LinearMPC.jl/blob/9a81963ae6ec46fe6454b287878c61bc17282124/src/utils.jl#L130-L134">source</a></section></details></article><article><details class="docstring" open="true"><summary id="LinearMPC.constraint_violation-Tuple{LinearMPC.Constraint, Vector{Float64}, Vector{Float64}}"><a class="docstring-binding" href="#LinearMPC.constraint_violation-Tuple{LinearMPC.Constraint, Vector{Float64}, Vector{Float64}}"><code>LinearMPC.constraint_violation</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">constraint_violation(c,xs,us)</code></pre><p>evaluates the possible violation of constraint c at state x and control u</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/darnstrom/LinearMPC.jl/blob/9a81963ae6ec46fe6454b287878c61bc17282124/src/utils.jl#L388-L391">source</a></section></details></article><article><details class="docstring" open="true"><summary id="LinearMPC.correct_state!"><a class="docstring-binding" href="#LinearMPC.correct_state!"><code>LinearMPC.correct_state!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">correct_state!(mpc,y,d=nothing)</code></pre><p>Correct the state estimated based on measurement <code>u</code>. This updates the state of <code>state_observer</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/darnstrom/LinearMPC.jl/blob/9a81963ae6ec46fe6454b287878c61bc17282124/src/observer.jl#L76-L80">source</a></section></details></article><article><details class="docstring" open="true"><summary id="LinearMPC.evaluate_cost"><a class="docstring-binding" href="#LinearMPC.evaluate_cost"><code>LinearMPC.evaluate_cost</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">evaluate_cost(mpc,xs,us,rs;Q,Rr,S)</code></pre><p>Compute the cost 0.5 ∑ x&#39;*Q x + u&#39; R u + Δu&#39; Rr Δu + x&#39; S u</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/darnstrom/LinearMPC.jl/blob/9a81963ae6ec46fe6454b287878c61bc17282124/src/utils.jl#L368-L371">source</a></section></details></article><article><details class="docstring" open="true"><summary id="LinearMPC.evaluate_cost-Tuple{LinearMPC.MPC, Simulation}"><a class="docstring-binding" href="#LinearMPC.evaluate_cost-Tuple{LinearMPC.MPC, Simulation}"><code>LinearMPC.evaluate_cost</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">evaluate_cost(mpc,sim;Q,Rr,S)</code></pre><p>Compute the cost 0.5 ∑ x&#39;*Q x + u&#39; R u + Δu&#39; Rr Δu + x&#39; S u</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/darnstrom/LinearMPC.jl/blob/9a81963ae6ec46fe6454b287878c61bc17282124/src/simulation.jl#L247-L250">source</a></section></details></article><article><details class="docstring" open="true"><summary id="LinearMPC.format_linear_cost-Tuple{Union{ExplicitMPC, LinearMPC.MPC}, Any}"><a class="docstring-binding" href="#LinearMPC.format_linear_cost-Tuple{Union{ExplicitMPC, LinearMPC.MPC}, Any}"><code>LinearMPC.format_linear_cost</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">format_linear_cost(mpc, l)</code></pre><p>Format linear cost input for MPC controller.</p><p><strong>Arguments</strong></p><ul><li><code>mpc</code>: MPC or ExplicitMPC controller</li><li><code>l</code>: Linear cost input. Can be:<ul><li><code>nothing</code>: Returns zero vector</li><li>Vector of length <code>nu</code>: Broadcast across control horizon</li><li>Vector of length <code>nl</code>: Used directly (already blocked)</li><li>Matrix of size <code>(nu, Np)</code>: Mean computed over each move block</li><li>Matrix of size <code>(nu, Nc)</code>: Used directly</li></ul></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/darnstrom/LinearMPC.jl/blob/9a81963ae6ec46fe6454b287878c61bc17282124/src/utils.jl#L144-L157">source</a></section></details></article><article><details class="docstring" open="true"><summary id="LinearMPC.format_reference-Tuple{Union{ExplicitMPC, LinearMPC.MPC}, Any}"><a class="docstring-binding" href="#LinearMPC.format_reference-Tuple{Union{ExplicitMPC, LinearMPC.MPC}, Any}"><code>LinearMPC.format_reference</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">format_reference(mpc, r)</code></pre><p>Format reference input for MPC controller. Handles both single reference  and reference preview scenarios.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/darnstrom/LinearMPC.jl/blob/9a81963ae6ec46fe6454b287878c61bc17282124/src/utils.jl#L67-L72">source</a></section></details></article><article><details class="docstring" open="true"><summary id="LinearMPC.get_linear_cost_preview-Tuple{Any, Any, Any}"><a class="docstring-binding" href="#LinearMPC.get_linear_cost_preview-Tuple{Any, Any, Any}"><code>LinearMPC.get_linear_cost_preview</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">get_linear_cost_preview(ls, k, Nc)</code></pre><p>Extract linear cost preview from linear cost trajectory starting at time step k.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/darnstrom/LinearMPC.jl/blob/9a81963ae6ec46fe6454b287878c61bc17282124/src/simulation.jl#L140-L144">source</a></section></details></article><article><details class="docstring" open="true"><summary id="LinearMPC.get_reference_preview-Tuple{Any, Any, Any}"><a class="docstring-binding" href="#LinearMPC.get_reference_preview-Tuple{Any, Any, Any}"><code>LinearMPC.get_reference_preview</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">get_reference_preview(rs, k, Np)</code></pre><p>Extract reference preview from reference trajectory starting at time step k.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/darnstrom/LinearMPC.jl/blob/9a81963ae6ec46fe6454b287878c61bc17282124/src/simulation.jl#L133-L137">source</a></section></details></article><article><details class="docstring" open="true"><summary id="LinearMPC.get_state-Tuple{Union{ExplicitMPC, LinearMPC.MPC}}"><a class="docstring-binding" href="#LinearMPC.get_state-Tuple{Union{ExplicitMPC, LinearMPC.MPC}}"><code>LinearMPC.get_state</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">get_state!(mpc)</code></pre><p>Get the current state of the observer</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/darnstrom/LinearMPC.jl/blob/9a81963ae6ec46fe6454b287878c61bc17282124/src/observer.jl#L93-L96">source</a></section></details></article><article><details class="docstring" open="true"><summary id="LinearMPC.move_block!-Tuple{Any, Nothing}"><a class="docstring-binding" href="#LinearMPC.move_block!-Tuple{Any, Nothing}"><code>LinearMPC.move_block!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">move_block!(mpc,block)</code></pre><p>Reduce the number of controls by keeping it constant in blocks. For example, <code>block</code>=[2,1,3] keeps the control constant for 2 time-steps, 1 time step, and 3 time steps.</p><ul><li>if sum(block) ≠ mpc.Np, the resulting block will be padded or clipped</li><li>if <code>block</code> is an Int, a vector with constant block size is created</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/darnstrom/LinearMPC.jl/blob/9a81963ae6ec46fe6454b287878c61bc17282124/src/setup.jl#L199-L206">source</a></section></details></article><article><details class="docstring" open="true"><summary id="LinearMPC.mpc2mpqp-Tuple{LinearMPC.MPC}"><a class="docstring-binding" href="#LinearMPC.mpc2mpqp-Tuple{LinearMPC.MPC}"><code>LinearMPC.mpc2mpqp</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">mpc2mpqp(mpc)</code></pre><p>For a given MPC structure <code>mpc</code>, form the multi-parametric QP <code>mpQP</code>. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/darnstrom/LinearMPC.jl/blob/9a81963ae6ec46fe6454b287878c61bc17282124/src/mpc2mpqp.jl#L414-L419">source</a></section></details></article><article><details class="docstring" open="true"><summary id="LinearMPC.predict_state!"><a class="docstring-binding" href="#LinearMPC.predict_state!"><code>LinearMPC.predict_state!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">predict_state!(mpc,u,d=nothing)</code></pre><p>Predict the state at the next time step if the control <code>u</code> is applied. This updates the state of <code>state_observer</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/darnstrom/LinearMPC.jl/blob/9a81963ae6ec46fe6454b287878c61bc17282124/src/observer.jl#L67-L71">source</a></section></details></article><article><details class="docstring" open="true"><summary id="LinearMPC.set_binary_controls!"><a class="docstring-binding" href="#LinearMPC.set_binary_controls!"><code>LinearMPC.set_binary_controls!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">set_binary_controls!(mpc,bin_ids, Nc_binary=nothing)</code></pre><p>Makes the controls in bin<em>ids to binary controls. Nc</em>binary is the &quot;binary control horizon&quot; (default = control horizon) </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/darnstrom/LinearMPC.jl/blob/9a81963ae6ec46fe6454b287878c61bc17282124/src/setup.jl#L269-L274">source</a></section></details></article><article><details class="docstring" open="true"><summary id="LinearMPC.set_bounds!-Tuple{LinearMPC.MPC}"><a class="docstring-binding" href="#LinearMPC.set_bounds!-Tuple{LinearMPC.MPC}"><code>LinearMPC.set_bounds!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">set_bounds!(mpc;umin,umax,ymin,umax)</code></pre><p>Sets the bounds umin ≤ u ≤ umax and ymin ≤ y ≤ umax</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/darnstrom/LinearMPC.jl/blob/9a81963ae6ec46fe6454b287878c61bc17282124/src/setup.jl#L109-L113">source</a></section></details></article><article><details class="docstring" open="true"><summary id="LinearMPC.set_disturbance!-Tuple{Any, Any, Any}"><a class="docstring-binding" href="#LinearMPC.set_disturbance!-Tuple{Any, Any, Any}"><code>LinearMPC.set_disturbance!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">set_disturbance!(mpc,wmin,wmax)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/darnstrom/LinearMPC.jl/blob/9a81963ae6ec46fe6454b287878c61bc17282124/src/setup.jl#L280-L282">source</a></section></details></article><article><details class="docstring" open="true"><summary id="LinearMPC.set_horizon!"><a class="docstring-binding" href="#LinearMPC.set_horizon!"><code>LinearMPC.set_horizon!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">set_horizon!(mpc,Np)</code></pre><p>Sets the prediction horizon <code>Np</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/darnstrom/LinearMPC.jl/blob/9a81963ae6ec46fe6454b287878c61bc17282124/src/setup.jl#L259-L262">source</a></section></details></article><article><details class="docstring" open="true"><summary id="LinearMPC.set_input_bounds!-Tuple{LinearMPC.MPC}"><a class="docstring-binding" href="#LinearMPC.set_input_bounds!-Tuple{LinearMPC.MPC}"><code>LinearMPC.set_input_bounds!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">set_input_bounds!(mpc;umin,umax)</code></pre><p>Sets the input bounds umin ≤ u ≤ umax </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/darnstrom/LinearMPC.jl/blob/9a81963ae6ec46fe6454b287878c61bc17282124/src/setup.jl#L40-L44">source</a></section></details></article><article><details class="docstring" open="true"><summary id="LinearMPC.set_labels!-Tuple{Any}"><a class="docstring-binding" href="#LinearMPC.set_labels!-Tuple{Any}"><code>LinearMPC.set_labels!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">set_labels!(mpc;x,u,y,d)</code></pre><p>Sets the name of the states <code>x</code>, controls <code>u</code>, output <code>u</code>, disturbance <code>d</code> </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/darnstrom/LinearMPC.jl/blob/9a81963ae6ec46fe6454b287878c61bc17282124/src/setup.jl#L248-L251">source</a></section></details></article><article><details class="docstring" open="true"><summary id="LinearMPC.set_objective!-Tuple{LinearMPC.MPC}"><a class="docstring-binding" href="#LinearMPC.set_objective!-Tuple{LinearMPC.MPC}"><code>LinearMPC.set_objective!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">set_objective!(mpc;Q,R,Rr,S,Qf)</code></pre><p>Set the weights in the objective function `xN&#39; C&#39; Qf C xN^T + ∑ (C xₖ - rₖ)&#39; Q (C xₖ - rₖ)  + uₖ&#39; R uₖ + Δuₖ&#39; Rr Δuₖ + xₖ&#39; S uₖ</p><p>A vector is interpreted as a diagonal matrix.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/darnstrom/LinearMPC.jl/blob/9a81963ae6ec46fe6454b287878c61bc17282124/src/setup.jl#L119-L125">source</a></section></details></article><article><details class="docstring" open="true"><summary id="LinearMPC.set_offset!-Tuple{Any}"><a class="docstring-binding" href="#LinearMPC.set_offset!-Tuple{Any}"><code>LinearMPC.set_offset!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">set_offset!(mpc;xo,uo,doff,fo,ho)</code></pre><p>Set bias terms in dynamics and measurements.</p><p>Concretely we have that <code>f_offet = fo - F * xo - G * uo - Gd * doff</code> and <code>h_offet = ho - C * xo - Dd * doff</code>, which adds a constant term to the dynamics and measurement function, respectively. Note that if the system is linearized, these offsets are set automatically. If some of the offset are not entered, they are interpreted as zero.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/darnstrom/LinearMPC.jl/blob/9a81963ae6ec46fe6454b287878c61bc17282124/src/setup.jl#L356-L366">source</a></section></details></article><article><details class="docstring" open="true"><summary id="LinearMPC.set_operating_point!-Tuple{Any}"><a class="docstring-binding" href="#LinearMPC.set_operating_point!-Tuple{Any}"><code>LinearMPC.set_operating_point!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">set_operating_point!(mpc;xo,uo)</code></pre><p>Sets the operating point to the state xo and control uo and linearize</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/darnstrom/LinearMPC.jl/blob/9a81963ae6ec46fe6454b287878c61bc17282124/src/setup.jl#L340-L343">source</a></section></details></article><article><details class="docstring" open="true"><summary id="LinearMPC.set_output_bounds!-Tuple{LinearMPC.MPC}"><a class="docstring-binding" href="#LinearMPC.set_output_bounds!-Tuple{LinearMPC.MPC}"><code>LinearMPC.set_output_bounds!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">set_output_bounds!(mpc;ymin,ymax,
                ks, soft, binary,prio)</code></pre><p>Adds the constraints lb ≤ C x  ≤ ub for the time steps k ∈ ks </p><ul><li><code>soft</code> marks if the constraint should be softened (default false)</li><li><code>binary</code> marks if either the upper or lower bounds should be enforced with equality (default false)</li><li><code>prio</code> marks the relative priority of the constraint (default 0)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/darnstrom/LinearMPC.jl/blob/9a81963ae6ec46fe6454b287878c61bc17282124/src/setup.jl#L93-L102">source</a></section></details></article><article><details class="docstring" open="true"><summary id="LinearMPC.set_prestabilizing_feedback!-Tuple{Any, AbstractMatrix}"><a class="docstring-binding" href="#LinearMPC.set_prestabilizing_feedback!-Tuple{Any, AbstractMatrix}"><code>LinearMPC.set_prestabilizing_feedback!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">set_prestabilizing_feedback!(mpc,K)</code></pre><p>Sets the prestabilizing feedback <code>K</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/darnstrom/LinearMPC.jl/blob/9a81963ae6ec46fe6454b287878c61bc17282124/src/setup.jl#L179-L183">source</a></section></details></article><article><details class="docstring" open="true"><summary id="LinearMPC.set_prestabilizing_feedback!-Tuple{Any}"><a class="docstring-binding" href="#LinearMPC.set_prestabilizing_feedback!-Tuple{Any}"><code>LinearMPC.set_prestabilizing_feedback!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">set_prestabilizing_feedback!(mpc)</code></pre><p>Sets the prestabilizing feedback <code>K</code> to the infinte horizon LQR gain`</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/darnstrom/LinearMPC.jl/blob/9a81963ae6ec46fe6454b287878c61bc17282124/src/setup.jl#L189-L193">source</a></section></details></article><article><details class="docstring" open="true"><summary id="LinearMPC.set_state!-Tuple{Union{ExplicitMPC, LinearMPC.MPC}, Any}"><a class="docstring-binding" href="#LinearMPC.set_state!-Tuple{Union{ExplicitMPC, LinearMPC.MPC}, Any}"><code>LinearMPC.set_state!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">set_state!(mpc,x)</code></pre><p>Set the state of <code>state_observer</code> to <code>x</code>  </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/darnstrom/LinearMPC.jl/blob/9a81963ae6ec46fe6454b287878c61bc17282124/src/observer.jl#L85-L88">source</a></section></details></article><article><details class="docstring" open="true"><summary id="LinearMPC.set_state_observer!-Tuple{Union{ExplicitMPC, LinearMPC.MPC}}"><a class="docstring-binding" href="#LinearMPC.set_state_observer!-Tuple{Union{ExplicitMPC, LinearMPC.MPC}}"><code>LinearMPC.set_state_observer!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">set_state_observer!(mpc;F,G,Gd,C,Dd,Q,R,x0)</code></pre><p>Creates a steady-state Kalman filter for estimating the sate. If <code>F</code>,<code>G</code>, and <code>C</code> are not provided, the model used in <code>mpc</code> is used in the filter</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/darnstrom/LinearMPC.jl/blob/9a81963ae6ec46fe6454b287878c61bc17282124/src/setup.jl#L321-L325">source</a></section></details></article><article><details class="docstring" open="true"><summary id="LinearMPC.set_terminal_cost!-Tuple{Any}"><a class="docstring-binding" href="#LinearMPC.set_terminal_cost!-Tuple{Any}"><code>LinearMPC.set_terminal_cost!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">set_terminal_cost!(mpc)</code></pre><p>Sets the terminal cost <code>Qf</code> to the inifinite horizon LQR cost </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/darnstrom/LinearMPC.jl/blob/9a81963ae6ec46fe6454b287878c61bc17282124/src/setup.jl#L164-L168">source</a></section></details></article><article><details class="docstring" open="true"><summary id="LinearMPC.set_x0_uncertainty!-Tuple{Any, Any}"><a class="docstring-binding" href="#LinearMPC.set_x0_uncertainty!-Tuple{Any, Any}"><code>LinearMPC.set_x0_uncertainty!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">set_x0_uncertainty!(mpc,wmin,wmax)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/darnstrom/LinearMPC.jl/blob/9a81963ae6ec46fe6454b287878c61bc17282124/src/setup.jl#L288-L290">source</a></section></details></article><article><details class="docstring" open="true"><summary id="LinearMPC.settings!-Tuple{LinearMPC.MPC}"><a class="docstring-binding" href="#LinearMPC.settings!-Tuple{LinearMPC.MPC}"><code>LinearMPC.settings!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">settings!(mpc,key1=value1, key2=value2,...)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/darnstrom/LinearMPC.jl/blob/9a81963ae6ec46fe6454b287878c61bc17282124/src/setup.jl#L295-L297">source</a></section></details></article><article><details class="docstring" open="true"><summary id="LinearMPC.setup!-Tuple{LinearMPC.MPC}"><a class="docstring-binding" href="#LinearMPC.setup!-Tuple{LinearMPC.MPC}"><code>LinearMPC.setup!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">setup!(mpc)</code></pre><p>Sets up the <code>mpc</code> given its current parameters and settings   Internally, this means generating an mpQP, and setting up a DAQP workspace.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/darnstrom/LinearMPC.jl/blob/9a81963ae6ec46fe6454b287878c61bc17282124/src/setup.jl#L1-L6">source</a></section></details></article><article><details class="docstring" open="true"><summary id="LinearMPC.solve-Tuple{LinearMPC.MPC, Any}"><a class="docstring-binding" href="#LinearMPC.solve-Tuple{LinearMPC.MPC, Any}"><code>LinearMPC.solve</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">xdaqp,fval,exitflag,info = solve(mpc,θ)</code></pre><p>Solve corresponding QP given the parameter θ</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/darnstrom/LinearMPC.jl/blob/9a81963ae6ec46fe6454b287878c61bc17282124/src/utils.jl#L225-L229">source</a></section></details></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../manual/solver/">« Solver Settings</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Tuesday 20 January 2026 19:03">Tuesday 20 January 2026</span>. Using Julia version 1.12.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
